{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sycol\\\\ReactProjects\\\\virtual-emporium\\\\client\\\\src\\\\components\\\\WishList\\\\WishList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport RemoveWishListItemModal from '../RemoveWishListItemModal';\nimport '../../styles/WishList/WishList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WishList = ({\n  windowWidth,\n  wishList,\n  userInfo,\n  getUserWishListInfo,\n  isLoggedIn\n}) => {\n  _s();\n  const [removeModalOpen, setRemoveModalOpen] = useState(false);\n  const [modalIndex, setModalIndex] = useState(null);\n  const [loader, setLoader] = useState(false);\n  const [imgBounds, setImgBounds] = useState(null);\n  const [toggleUseEffectHook, setToggleUseEffectHook] = useState(false);\n  const imgRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isLoggedIn) {\n      getUserWishListInfo();\n    }\n  }, []);\n  useEffect(() => {\n    if (!removeModalOpen) {\n      setModalIndex(null);\n    }\n    console.log(modalIndex);\n  }, [removeModalOpen]);\n  useEffect(() => {\n    if (imgRef.current) {\n      const bounds = imgRef.current.getBoundingClientRect();\n      setImgBounds(bounds);\n      if (bounds.height !== bounds.width) {\n        if (toggleUseEffectHook) {\n          setToggleUseEffectHook(false);\n        } else {\n          setToggleUseEffectHook(true);\n        }\n      }\n    }\n  }, [imgRef, windowWidth, toggleUseEffectHook, wishList]);\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainLoaderWrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mainLoader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"wishListWrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishListContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"wishListAccountInfoTxt\",\n        children: [\"Logged in as: \", userInfo.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"wishListTitle\",\n        children: \"Wish List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wishListMainContentWrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wishListProductsWrapper\",\n          children: wishList.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `wishListProductWrapper`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wishListProductContent\",\n              onClick: () => {\n                navigate(`/product/${product.id}`);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.image,\n                className: \"wishListProductImg\",\n                alt: \"wish list item\",\n                onMouseDown: e => e.preventDefault(),\n                ref: imgRef,\n                style: {\n                  height: imgBounds === null || imgBounds === void 0 ? void 0 : imgBounds.width\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wishListProductInfoWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"wishListProductCategory\",\n                  children: product.category.toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"wishListProductTitle\",\n                  children: product.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"wishListProductPrice\",\n                  children: [\"$\", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"wishListProductRemoveBtnWrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"wishListProductRemoveBtn\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      setModalIndex(index);\n                      setRemoveModalOpen(true);\n                      document.body.style.overflowY = 'hidden';\n                    },\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 41\n                }, this), removeModalOpen && modalIndex === index && /*#__PURE__*/_jsxDEV(RemoveWishListItemModal, {\n                  setRemoveModalOpen: setRemoveModalOpen,\n                  product: product,\n                  getUserWishListInfo: getUserWishListInfo,\n                  wishList: wishList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(WishList, \"TkbGDt0rlAzvpcoa/qWYjO0pRmU=\", false, function () {\n  return [useNavigate];\n});\n_c = WishList;\nexport default WishList;\nvar _c;\n$RefreshReg$(_c, \"WishList\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","RemoveWishListItemModal","jsxDEV","_jsxDEV","WishList","windowWidth","wishList","userInfo","getUserWishListInfo","isLoggedIn","_s","removeModalOpen","setRemoveModalOpen","modalIndex","setModalIndex","loader","setLoader","imgBounds","setImgBounds","toggleUseEffectHook","setToggleUseEffectHook","imgRef","navigate","console","log","current","bounds","getBoundingClientRect","height","width","className","children","fileName","_jsxFileName","lineNumber","columnNumber","email","map","product","index","onClick","id","src","image","alt","onMouseDown","e","preventDefault","ref","style","category","toUpperCase","title","price","stopPropagation","document","body","overflowY","_c","$RefreshReg$"],"sources":["C:/Users/Sycol/ReactProjects/virtual-emporium/client/src/components/WishList/WishList.tsx"],"sourcesContent":["import React, { FC, useState, useEffect, useRef } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport RemoveWishListItemModal from '../RemoveWishListItemModal'\r\nimport '../../styles/WishList/WishList.css'\r\n\r\ninterface WishListProps {\r\n    windowWidth: number,\r\n    wishList: any,\r\n    userInfo: any,\r\n    getUserWishListInfo: Function,\r\n    isLoggedIn: boolean\r\n}\r\n\r\nconst WishList: FC<WishListProps> = ({ windowWidth, wishList, userInfo, getUserWishListInfo, isLoggedIn }) => {\r\n    const [removeModalOpen, setRemoveModalOpen] = useState(false)\r\n    const [modalIndex, setModalIndex] = useState<number | null>(null);\r\n    const [loader, setLoader] = useState(false)\r\n    const [imgBounds, setImgBounds] = useState<DOMRect | null>(null);\r\n    const [toggleUseEffectHook, setToggleUseEffectHook] = useState(false)\r\n    const imgRef = useRef<HTMLImageElement>(null);\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            getUserWishListInfo()\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (!removeModalOpen) {\r\n            setModalIndex(null)\r\n        }\r\n        console.log(modalIndex)\r\n    },[removeModalOpen])\r\n\r\n    useEffect(() => {\r\n        if (imgRef.current) {\r\n            const bounds = imgRef.current.getBoundingClientRect();\r\n            setImgBounds(bounds);\r\n            if (bounds.height !== bounds.width) {\r\n                if (toggleUseEffectHook) {\r\n                    setToggleUseEffectHook(false)\r\n                } else {\r\n                    setToggleUseEffectHook(true)\r\n                }\r\n            }\r\n        }\r\n    }, [imgRef, windowWidth, toggleUseEffectHook, wishList]);\r\n\r\n    if (!isLoggedIn) {\r\n        return <div className='mainLoaderWrapper'>\r\n            <span className=\"mainLoader\"></span>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <section className='wishListWrapper'>\r\n            <div className='wishListContent'>\r\n                <span className='wishListAccountInfoTxt'>Logged in as: {userInfo.email}</span>\r\n                <h2 className='wishListTitle'>Wish List</h2>\r\n                <div className='wishListMainContentWrapper'>\r\n                    <div className='wishListProductsWrapper'>\r\n                        {wishList.map((product: any, index: number) => (\r\n                            <div className={`wishListProductWrapper`} key={index}>\r\n                                <div className='wishListProductContent' onClick={() => {\r\n                                    navigate(`/product/${product.id}`)\r\n                                }}>\r\n                                    <img src={product.image} className='wishListProductImg' alt='wish list item'\r\n                                        onMouseDown={(e) => e.preventDefault()} ref={imgRef} style={{ height: imgBounds?.width }}/>\r\n                                    <div className='wishListProductInfoWrapper'>\r\n                                        <span className='wishListProductCategory'>{product.category.toUpperCase()}</span>\r\n                                        <h4 className='wishListProductTitle'>{product.title}</h4>\r\n                                        <span className='wishListProductPrice'>${product.price}</span>\r\n                                        <div className='wishListProductRemoveBtnWrapper'>\r\n                                            <button className='wishListProductRemoveBtn' onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                setModalIndex(index)\r\n                                                setRemoveModalOpen(true)\r\n                                                document.body.style.overflowY = 'hidden';\r\n                                            }}>Remove</button>\r\n                                        </div>\r\n                                        {(removeModalOpen && modalIndex === index) && (\r\n                                            <RemoveWishListItemModal setRemoveModalOpen={setRemoveModalOpen} product={product}\r\n                                                getUserWishListInfo={getUserWishListInfo} wishList={wishList} />\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default WishList\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}