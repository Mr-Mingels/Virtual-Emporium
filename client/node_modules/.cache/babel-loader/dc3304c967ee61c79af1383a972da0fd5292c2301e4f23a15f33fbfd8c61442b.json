{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sycol/ReactProjects/virtual-emporium/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sycol/ReactProjects/virtual-emporium/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sycol/ReactProjects/virtual-emporium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../styles/RemoveWishListItemModal.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RemoveWishListItemModal=function RemoveWishListItemModal(_ref){var setRemoveModalOpen=_ref.setRemoveModalOpen,product=_ref.product,getUserWishListInfo=_ref.getUserWishListInfo,wishList=_ref.wishList;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loader=_useState2[0],setLoader=_useState2[1];var handleRemoveItemFromWishList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var wishListIem,productId,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoader(true);_context.prev=1;wishListIem=wishList.find(function(productInWishList){return productInWishList.id===product.id;});productId=product._id?product._id:wishListIem._id;_context.next=6;return axios.delete('/remove-item-from-wishlist',{data:{productId:productId},withCredentials:true});case 6:response=_context.sent;if(!(response.status===200)){_context.next=12;break;}_context.next=10;return getUserWishListInfo();case 10:setRemoveModalOpen(false);document.body.style.overflowY='auto';case 12:setLoader(false);_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setLoader(false);case 19:case\"end\":return _context.stop();}},_callee,null,[[1,15]]);}));return function handleRemoveItemFromWishList(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"wishListItemRemoveModalWrapper\",onClick:function onClick(e){return e.stopPropagation();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wishListItemRemoveModalContent\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"wishListItemRemoveModalHeaderTxt\",children:\"Remove Item\"}),/*#__PURE__*/_jsx(\"p\",{className:\"wishListItemRemoveModalTxt\",children:\"Are you sure you want to remove this item from your wish list?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wishListItemRemoveModalBtnsWrapper\",children:[loader?/*#__PURE__*/_jsx(\"button\",{className:\"wishListItemRemoveModalBtn loading\",children:/*#__PURE__*/_jsx(\"span\",{className:\"btnLoader\"})}):/*#__PURE__*/_jsx(\"button\",{className:\"wishListItemRemoveModalBtn\",onClick:function onClick(){return handleRemoveItemFromWishList();},children:\"REMOVE\"}),/*#__PURE__*/_jsx(\"button\",{className:\"wishListItemRemoveModalBtn cancel\",onClick:function onClick(){setRemoveModalOpen(false);document.body.style.overflowY='auto';},children:\"CANCEL\"})]})]})});};export default RemoveWishListItemModal;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","RemoveWishListItemModal","_ref","setRemoveModalOpen","product","getUserWishListInfo","wishList","_useState","_useState2","_slicedToArray","loader","setLoader","handleRemoveItemFromWishList","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wishListIem","productId","response","wrap","_callee$","_context","prev","next","find","productInWishList","id","_id","delete","data","withCredentials","sent","status","document","body","style","overflowY","t0","console","log","stop","apply","arguments","className","onClick","e","stopPropagation","children"],"sources":["C:/Users/Sycol/ReactProjects/virtual-emporium/client/src/components/RemoveWishListItemModal.tsx"],"sourcesContent":["import React, { useState, FC } from 'react'\r\nimport '../styles/RemoveWishListItemModal.css'\r\nimport axios from 'axios'\r\n\r\ninterface RemoveWishListItemModalProps {\r\n    setRemoveModalOpen: Function,\r\n    product: any,\r\n    getUserWishListInfo: Function,\r\n    wishList: any\r\n}\r\n\r\nconst RemoveWishListItemModal: FC<RemoveWishListItemModalProps> = ({ setRemoveModalOpen, product, getUserWishListInfo, wishList }) => {\r\n    const [loader, setLoader] = useState(false)\r\n\r\n    const handleRemoveItemFromWishList = async () => {\r\n        setLoader(true)\r\n        try {\r\n            const wishListIem = wishList.find((productInWishList: any) => productInWishList.id === product.id)\r\n            const productId = product._id ? product._id : wishListIem._id\r\n            const response = await axios.delete('/remove-item-from-wishlist', {\r\n                data: { productId },\r\n                withCredentials: true\r\n            });\r\n            if (response.status === 200) {\r\n                await getUserWishListInfo()\r\n                setRemoveModalOpen(false)\r\n                document.body.style.overflowY = 'auto';\r\n            }\r\n            setLoader(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            setLoader(false)\r\n        }\r\n    }\r\n    return (\r\n        <div className='wishListItemRemoveModalWrapper' onClick={(e) => e.stopPropagation()}>\r\n            <div className='wishListItemRemoveModalContent'>\r\n                <h5 className='wishListItemRemoveModalHeaderTxt'>Remove Item</h5>\r\n                <p className='wishListItemRemoveModalTxt'>Are you sure you want to remove this item from your wish list?</p>\r\n                <div className='wishListItemRemoveModalBtnsWrapper'>\r\n                    {loader ? (\r\n                        <button className='wishListItemRemoveModalBtn loading'>\r\n                            <span className='btnLoader'></span>\r\n                        </button>\r\n                    ) : (\r\n                        <button className='wishListItemRemoveModalBtn' onClick={() => handleRemoveItemFromWishList()}>REMOVE</button>\r\n                    )}\r\n                    <button className='wishListItemRemoveModalBtn cancel' onClick={() => {\r\n                        setRemoveModalOpen(false);\r\n                        document.body.style.overflowY = 'auto';\r\n                    }}>CANCEL</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RemoveWishListItemModal\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}