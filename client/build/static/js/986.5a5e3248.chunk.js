"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[986],{6986:function(a,e,n){n.r(e),n.d(e,{default:function(){return x}});var r=n(9439),s=n(2791),t=n(9806),c=n(1632),o=n(1187),l=n(1087),i=n(7689),u=n(4165),p=n(5861),d=n(8683),h=n(1243),m=n(184),v=function(a){var e=a.handleAuthenticationClose,n=a.isLoggedIn,c=a.getUserInfo,l=a.userInfo,v=a.authNavigationOption,x=(0,s.useState)("signUp"),j=(0,r.Z)(x,2),f=j[0],N=j[1],g=(0,s.useState)(!1),B=(0,r.Z)(g,2),w=B[0],C=B[1],I=(0,s.useState)(!1),D=(0,r.Z)(I,2),L=D[0],y=D[1],Z=(0,s.useState)(!1),b=(0,r.Z)(Z,2),k=b[0],S=b[1],W=(0,s.useState)(!1),G=(0,r.Z)(W,2),T=G[0],O=G[1],E=(0,s.useState)({value:"",placeholder:"Enter your email"}),P=(0,r.Z)(E,2),U=P[0],M=P[1],A=(0,s.useState)({value:"",placeholder:"Enter your password"}),H=(0,r.Z)(A,2),F=H[0],R=H[1],q=(0,i.TH)(),Y=(0,i.s0)();(0,s.useEffect)((function(){y(!1),C(!1),M((0,d.Z)((0,d.Z)({},U),{},{value:"",placeholder:"Enter your email"})),R((0,d.Z)((0,d.Z)({},F),{},{value:"",placeholder:"Enter your password"}))}),[f]);var $=function(){var a=(0,p.Z)((0,u.Z)().mark((function a(n){var r,s,t;return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!T){a.next=3;break}return a.abrupt("return");case 3:if(S(!0),""===U.value&&(C(!0),M((0,d.Z)((0,d.Z)({},U),{},{placeholder:"Please Fill Out This Field"}))),""===F.value&&(y(!0),R((0,d.Z)((0,d.Z)({},F),{},{placeholder:"Please Fill Out This Field"}))),""!==F.value&&""!==U.value){a.next=9;break}return S(!1),a.abrupt("return");case 9:return r={email:U.value.toUpperCase(),password:F.value},a.prev=10,s="signUp"===f?"sign-up-page":"log-in-page",a.next=14,h.Z.post("/".concat(s),r,{withCredentials:!0});case 14:if(t=a.sent,"signUp"!==f||200!==t.status){a.next=21;break}N("logIn"),M((0,d.Z)((0,d.Z)({},U),{},{value:""})),R((0,d.Z)((0,d.Z)({},F),{},{value:""})),a.next=26;break;case 21:if("logIn"!==f||200!==t.status){a.next=26;break}return a.next=24,c();case 24:e(!1),v&&Y(v);case 26:S(!1),a.next=32;break;case 29:a.prev=29,a.t0=a.catch(10),a.t0.response&&(console.error("Error message: ",a.t0.response.data.message),"Email is incorrect"===a.t0.response.data.message?(C(!0),M((0,d.Z)((0,d.Z)({},U),{},{value:"",placeholder:"Incorrect email"}))):"Incorrect password"===a.t0.response.data.message?(y(!0),R((0,d.Z)((0,d.Z)({},F),{},{value:"",placeholder:"Incorrect password"}))):"Email has already been taken"===a.t0.response.data.message?(C(!0),M((0,d.Z)((0,d.Z)({},U),{},{value:"",placeholder:"Email has already been taken"}))):console.error("Error",a.t0.message),S(!1));case 32:case 33:case"end":return a.stop()}}),a,null,[[10,29]])})));return function(e){return a.apply(this,arguments)}}();(0,s.useEffect)((function(){""!==U.value&&(C(!1),M((0,d.Z)((0,d.Z)({},U),{},{placeholder:"Enter your email"})))}),[U.value]),(0,s.useEffect)((function(){""!==F.value&&(y(!1),R((0,d.Z)((0,d.Z)({},F),{},{placeholder:"Enter your password"})))}),[F.value]);var J=function(){var a=(0,p.Z)((0,u.Z)().mark((function a(){var n;return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!k){a.next=2;break}return a.abrupt("return");case 2:return O(!0),n={email:"DEMOACCOUNT@GMAIL.COM",password:"1234"},a.prev=4,a.next=7,h.Z.post("/log-in-page",n,{withCredentials:!0});case 7:if(200!==a.sent.status){a.next=13;break}return a.next=11,c();case 11:e(!1),v&&Y(v);case 13:O(!1),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(4),console.log(a.t0),O(!1);case 20:case"end":return a.stop()}}),a,null,[[4,16]])})));return function(){return a.apply(this,arguments)}}(),Q=function(){var a=(0,p.Z)((0,u.Z)().mark((function a(){return(0,u.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return S(!0),a.prev=1,a.next=4,h.Z.get("/log-out",{withCredentials:!0});case 4:if(200!==a.sent.status){a.next=10;break}return a.next=8,c();case 8:"/cart"!==q.pathname&&"/wishlist"!==q.pathname||Y("/"),e(!1);case 10:S(!1),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0),S(!1);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(){return a.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"authWrapper",children:(0,m.jsx)("div",{className:"authContent ".concat(n?"logOut":""),children:n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h5",{className:"authLogOutTitle",children:"Log Out"}),(0,m.jsxs)("div",{className:"authLogOutTxtWrapper",children:[(0,m.jsxs)("span",{className:"authLogOutTxt accountInfo",children:["Account: ",l.email]}),(0,m.jsx)("span",{className:"authLogOutTxt",children:"Are you sure you want to log out of your account?"})]}),(0,m.jsxs)("div",{className:"authLogOutBtnsWrapper",children:[k?(0,m.jsx)("button",{type:"button",className:"authLogOutBtns authLoader",children:(0,m.jsx)("span",{className:"btnLoader"})}):(0,m.jsx)("button",{className:"authLogOutBtns",onClick:function(){return Q()},children:"LOG OUT"}),(0,m.jsx)("button",{className:"authLogOutBtns close",onClick:k?void 0:function(){return e(!1)},children:"CLOSE"})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"authLogoWrapper",children:(0,m.jsx)(t.G,{icon:o.kjL,className:"authLogoIcon"})}),(0,m.jsx)("h2",{className:"authTitle",children:"signUp"===f?"Create your Account":"Log into your Account"}),(0,m.jsx)("div",{className:"authDemoAccountTxtWrapper",children:T?(0,m.jsx)("span",{className:"authDemoLoader"}):(0,m.jsx)("span",{className:"authDemoAccountTxt",onClick:function(){return J()},children:"Use Demo Account"})}),(0,m.jsx)("span",{}),(0,m.jsxs)("form",{method:"POST",className:"authForm",onSubmit:$,children:[(0,m.jsxs)("label",{className:"authLabel",children:["Email",(0,m.jsx)("span",{className:"authRequireTag",children:"*"})]}),(0,m.jsx)("input",{type:"email",name:"email",placeholder:U.placeholder,className:"authFormEmailInput ".concat(w?"field":""),onChange:function(a){return M((0,d.Z)((0,d.Z)({},U),{},{value:a.target.value}))},value:U.value}),(0,m.jsxs)("label",{className:"authLabel",children:["Password",(0,m.jsx)("span",{className:"authRequireTag",children:"*"})]}),(0,m.jsx)("input",{type:"password",name:"password",placeholder:F.placeholder,className:"authFormPassWordInput ".concat(L?"field":""),onChange:function(a){return R((0,d.Z)((0,d.Z)({},F),{},{value:a.target.value}))},value:F.value}),(0,m.jsxs)("div",{className:"authBtnsWrapper",children:[k?(0,m.jsx)("button",{type:"button",className:"authBtn authLoader",children:(0,m.jsx)("span",{className:"btnLoader"})}):(0,m.jsx)("button",{type:"submit",className:"authBtn authenticate",children:"signUp"===f?"Sign Up":"Log In"}),(0,m.jsx)("button",{type:"button",className:"authBtn close",onClick:k||T?void 0:function(){return e(!1)},children:"Close"})]}),(0,m.jsxs)("span",{className:"authPromptWrapper",children:["signUp"===f?"Already have an account?":"Don't have an account?","signUp"===f?(0,m.jsx)("span",{className:"authPrompt",onClick:function(){return N("logIn")},children:"Log In"}):(0,m.jsx)("span",{className:"authPrompt",onClick:function(){return N("signUp")},children:"Create Account"})]})]})]})})})},x=function(a){var e=a.windowWidth,n=a.allProducts,u=a.isLoggedIn,p=a.getUserInfo,d=a.openAuthenticationModal,h=a.handleAuthenticationOpen,x=a.handleAuthenticationClose,j=a.userInfo,f=a.authNavigationOption,N=a.setAuthNavigationOption,g=a.wishList,B=a.shoppingCart,w=(0,s.useState)(!1),C=(0,r.Z)(w,2),I=C[0],D=C[1],L=(0,s.useState)(""),y=(0,r.Z)(L,2),Z=y[0],b=y[1],k=(0,s.useState)(0),S=(0,r.Z)(k,2),W=S[0],G=S[1],T=(0,i.s0)(),O=(0,i.TH)(),E=function(){T("/")},P=function(a){a.preventDefault(),Z&&(T("/shop/search?q=".concat(Z)),D(!1),b(""))},U=function(a){u?T(a):h()};return(0,s.useEffect)((function(){u||"/cart"!==O.pathname&&"/wishlist"!==O.pathname?I&&D(!1):T("/")}),[O.pathname]),(0,s.useEffect)((function(){d&&I&&D(!1)}),[d]),(0,s.useEffect)((function(){if(0!==B.length){var a=B.map((function(a){return a.productQuantity}));G(a.reduce((function(a,e){return a+e}),0))}}),[B]),(0,m.jsxs)("section",{className:"navBarSection",children:[(0,m.jsx)("div",{className:"navBarHeaderWrapper",children:(0,m.jsx)("div",{className:"navBarHeaderContent",children:(0,m.jsxs)("ul",{className:"navBarHeaderListWrapper",children:[(0,m.jsx)(l.rU,{to:"/shop/all-products",className:"navBarHeaderItem",onMouseDown:function(a){return a.preventDefault()},children:"All Products"}),(0,m.jsx)(l.rU,{to:"/shop/best-sellers",className:"navBarHeaderItem",onMouseDown:function(a){return a.preventDefault()},children:"Best Sellers"}),(0,m.jsx)(l.rU,{to:"/shop/men",className:"navBarHeaderItem",onMouseDown:function(a){return a.preventDefault()},children:"Men"}),(0,m.jsx)(l.rU,{to:"/shop/women",className:"navBarHeaderItem",onMouseDown:function(a){return a.preventDefault()},children:"Women"}),(0,m.jsx)(l.rU,{to:"/shop/jewelery",className:"navBarHeaderItem",onMouseDown:function(a){return a.preventDefault()},children:"Jewelery"})]})})}),(0,m.jsx)("div",{className:"navBarWrapper",children:(0,m.jsxs)("div",{className:"navBarContent",children:[(0,m.jsxs)("div",{className:"navBarFirstSectionWrapper",children:[(0,m.jsx)("div",{className:"navBarLogoIconWrapper",onClick:E,children:(0,m.jsx)(t.G,{icon:o.kjL,className:"navBarLogoIcon"})}),(0,m.jsx)("h2",{className:"navBarTitle",children:"Virtual Emporium"})]}),(0,m.jsxs)("div",{className:"navBarSecondSectionWrapper",children:[(0,m.jsxs)("form",{className:"navBarSearchInputWrapper",onSubmit:P,children:[(0,m.jsx)("input",{className:"navBarSearchInput",placeholder:"Search product...",value:Z,onChange:function(a){return b(a.target.value)},type:"text"}),(0,m.jsx)("div",{className:"navBarSearchIconWrapper",children:(0,m.jsx)(t.G,{icon:c.Y$T,className:"navBarSearchIcon"})}),n&&Z&&(0,m.jsx)("div",{className:"navBarRenderedProductSearchWrapper",children:n.filter((function(a){return"electronics"!==a.category&&a.title.toLowerCase().includes(Z.toLowerCase())||"electronics"!==a.category&&a.category.toLowerCase().includes(Z.toLowerCase())})).map((function(a,e){var n=Math.round(a.rating.rate);return(0,m.jsxs)("div",{className:"navBarProductWrapper",onClick:function(){return e=a.id,b(""),void T("/product/".concat(e));var e},children:[(0,m.jsx)("img",{className:"navBarProductImg",src:a.image,alt:"product",onMouseDown:function(a){return a.preventDefault()}}),(0,m.jsxs)("div",{className:"navBarProductInfoWrapper",children:[(0,m.jsx)("span",{className:"navBarProductCategoryTxt",children:a.category.toUpperCase()}),(0,m.jsx)("h3",{className:"navBarProductTitle",children:a.title}),(0,m.jsxs)("div",{className:"navBarProductPriceAndRatingsWrapper",children:[(0,m.jsxs)("span",{className:"navBarProductPrice",children:["Price: $",a.price]}),(0,m.jsxs)("div",{className:"navBarProductRatingWrapper",children:[(0,m.jsx)(t.G,{className:"navBarProductIcon ".concat(n>=1?"fullStar":"emptyStar"),icon:c.Tab}),(0,m.jsx)(t.G,{className:"navBarProductIcon ".concat(n>=2?"fullStar":"emptyStar"),icon:c.Tab}),(0,m.jsx)(t.G,{className:"navBarProductIcon ".concat(n>=3?"fullStar":"emptyStar"),icon:c.Tab}),(0,m.jsx)(t.G,{className:"navBarProductIcon ".concat(n>=4?"fullStar":"emptyStar"),icon:c.Tab}),(0,m.jsx)(t.G,{className:"navBarProductIcon ".concat(n>=5?"fullStar":"emptyStar"),icon:c.Tab}),(0,m.jsxs)("span",{className:"navBarRatingCount",children:["(",a.rating.count,")"]})]})]})]})]},e)}))})]}),e>=800?(0,m.jsxs)("ul",{className:"navBarIconListWrapper",children:[(0,m.jsx)("div",{className:"navBarIconWrapper ".concat(0!==g.length?"badge":""),onClick:function(){N("/wishlist"),U("/wishlist")},children:(0,m.jsx)(t.G,{icon:c.m6i,className:"navBarIcon"})}),(0,m.jsx)("div",{className:"navBarIconWrapper ".concat(0!==B.length?"badge":""),onClick:function(){N("/cart"),U("/cart")},children:(0,m.jsx)(t.G,{icon:c.sq$,className:"navBarIcon"})}),(0,m.jsx)("span",{className:"navBarIconSeperator"}),(0,m.jsx)(t.G,{icon:c.ILF,className:"navBarIcon",onClick:function(){N(""),h()}})]}):(0,m.jsx)("div",{className:"navBarHamburgerMenuWrapper",onClick:function(){D(!0)},children:(0,m.jsx)(t.G,{icon:c.xiG,className:"navBarHamburgerMenuIcon"})}),e<=800&&(0,m.jsx)("div",{className:"fullScreenWrapper ".concat(I?"open":""),children:(0,m.jsx)("div",{className:"navBarDrawerWrapper ".concat(I?"open":""),children:(0,m.jsxs)("div",{className:"navBarDrawerContent",children:[(0,m.jsxs)("div",{className:"navBarDrawerCloseBtnWrapper",onClick:function(){D(!1)},children:[(0,m.jsx)(t.G,{icon:c.EOp,className:"navBarDrawerCloseIcon"}),(0,m.jsx)("span",{className:"navBarDrawerCloseTxt",children:"Close"})]}),(0,m.jsxs)("ul",{className:"navBarDrawerGeneralLinksListWrapper",children:[(0,m.jsxs)("div",{className:"navBarDrawerGeneralLinksWrapper",onClick:function(){return E()},children:[(0,m.jsx)(t.G,{icon:c.wp6,className:"navBarDrawerIcon"}),(0,m.jsx)("span",{className:"navBarDrawerGeneralLinkTxt",children:"Home"})]}),(0,m.jsxs)("div",{className:"navBarDrawerGeneralLinksWrapper",onClick:function(){N(""),h()},children:[(0,m.jsx)(t.G,{icon:c.ILF,className:"navBarDrawerIcon"}),(0,m.jsx)("span",{className:"navBarDrawerGeneralLinkTxt",children:"Log in or Register"})]}),(0,m.jsxs)("div",{className:"navBarDrawerGeneralLinksWrapper",onClick:function(){N("/wishlist"),U("/wishlist")},children:[(0,m.jsx)(t.G,{icon:c.m6i,className:"navBarDrawerIcon"}),(0,m.jsx)("span",{className:"navBarDrawerGeneralLinkTxt",children:"Wishlist"}),(0,m.jsx)("span",{className:"navBarDrawerBadge",children:g.length})]}),(0,m.jsxs)("div",{className:"navBarDrawerGeneralLinksWrapper",onClick:function(){N("/cart"),U("/cart")},children:[(0,m.jsx)(t.G,{icon:c.yYj,className:"navBarDrawerIcon"}),(0,m.jsx)("span",{className:"navBarDrawerGeneralLinkTxt",children:"Cart"}),(0,m.jsx)("span",{className:"navBarDrawerBadge",children:W})]})]}),(0,m.jsxs)("ul",{className:"navBarDrawerCategoryListWrapper",children:[(0,m.jsxs)(l.rU,{to:"/shop/all-products",className:"navBarDrawerCategory",children:["ALL PRODUCTS",(0,m.jsx)(t.G,{icon:c.yOZ,className:"navBarDrawerCategoryIcon",onMouseDown:function(a){return a.preventDefault()}})]}),(0,m.jsxs)(l.rU,{to:"/shop/best-sellers",className:"navBarDrawerCategory",children:["BEST SELLERS",(0,m.jsx)(t.G,{icon:c.yOZ,className:"navBarDrawerCategoryIcon",onMouseDown:function(a){return a.preventDefault()}})]}),(0,m.jsxs)(l.rU,{to:"/shop/women",className:"navBarDrawerCategory",children:["WOMEN",(0,m.jsx)(t.G,{icon:c.yOZ,className:"navBarDrawerCategoryIcon",onMouseDown:function(a){return a.preventDefault()}})]}),(0,m.jsxs)(l.rU,{to:"/shop/men",className:"navBarDrawerCategory",children:["MEN",(0,m.jsx)(t.G,{icon:c.yOZ,className:"navBarDrawerCategoryIcon",onMouseDown:function(a){return a.preventDefault()}})]}),(0,m.jsxs)(l.rU,{to:"/shop/jewelery",className:"navBarDrawerCategory",children:["JEWELERY",(0,m.jsx)(t.G,{icon:c.yOZ,className:"navBarDrawerCategoryIcon",onMouseDown:function(a){return a.preventDefault()}})]})]}),e<=500&&(0,m.jsxs)("form",{className:"navBarSearchInputWrapper drawer",onSubmit:P,children:[(0,m.jsx)("input",{className:"navBarSearchInput drawer",placeholder:"Search product...",value:Z,onChange:function(a){return b(a.target.value)}}),(0,m.jsx)("div",{className:"navBarSearchIconWrapper drawer",children:(0,m.jsx)(t.G,{icon:c.Y$T,className:"navBarSearchIcon drawer"})})]})]})})})]})]})}),d&&(0,m.jsx)(v,{handleAuthenticationClose:x,isLoggedIn:u,getUserInfo:p,userInfo:j,authNavigationOption:f})]})}}}]);
//# sourceMappingURL=986.5a5e3248.chunk.js.map