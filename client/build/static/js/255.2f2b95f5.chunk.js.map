{"version":3,"file":"static/js/255.2f2b95f5.chunk.js","mappings":"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","sources":["components/ShoppingCart/ShoppingCart.tsx"],"sourcesContent":["import React, { FC, useState, useEffect } from 'react'\r\nimport '../../styles/ShoppingCart/ShoppingCart.css'\r\nimport axios from 'axios'\r\n\r\ninterface ShoppingCartProps {\r\n    windowWidth: number,\r\n    shoppingCart: any,\r\n    userInfo: any,\r\n    getUserCartInfo: Function,\r\n    isLoggedIn: boolean,\r\n}\r\n\r\nconst ShoppingCart: FC<ShoppingCartProps> = ({ windowWidth, shoppingCart, userInfo, getUserCartInfo, isLoggedIn }) => {\r\n    const [modalOpen, setModalOpen] = useState(false)\r\n    const [modalIndex, setModalIndex] = useState<number | null>(null);\r\n    const [totalItems, setTotalItems] = useState(0)\r\n    const [totalCost, setTotalCost] = useState(0)\r\n    const [loader, setLoader] = useState(false)\r\n    const [checkOutLoader, setCheckOutLoader] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            getUserCartInfo()\r\n        }\r\n    }, [])\r\n\r\n    const handleRemoveModalOpen = (indexId: number) => {\r\n        setModalIndex(indexId)\r\n        setModalOpen(true)\r\n        document.body.style.overflowY = 'hidden';\r\n    }\r\n\r\n    const handleRemoveModalClose = () => {\r\n        if (loader) return\r\n        setModalIndex(null)\r\n        setModalOpen(false)\r\n        document.body.style.overflowY = 'auto';\r\n    }\r\n\r\n    useEffect(() => {\r\n        const itemQuantitys = shoppingCart.map((product: any) => product.productQuantity);\r\n        setTotalItems(itemQuantitys.reduce((accumulator: any, currentValue: any) => {\r\n            return accumulator + currentValue;\r\n        }, 0))\r\n        const subTotals = shoppingCart.map((product: any) => product.productQuantity * product.price);\r\n        setTotalCost(subTotals.reduce((accumulator: any, currentValue: any) => {\r\n            return accumulator + currentValue;\r\n        }, 0))\r\n    }, [shoppingCart])\r\n\r\n    const removeItemFromCart = async (productId: any) => {\r\n        setLoader(true)\r\n        try {\r\n            const response = await axios.delete('/remove-product', {\r\n                data: { productId },\r\n                withCredentials: true\r\n            });\r\n            if (response.status === 200) {\r\n                await getUserCartInfo()\r\n                handleRemoveModalClose()\r\n            }\r\n            setLoader(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            setLoader(false)\r\n        }\r\n    }\r\n\r\n    const handleCheckOut = async () => {\r\n        setCheckOutLoader(true)\r\n        try {\r\n            const response = await axios.post('/create-checkout-session', shoppingCart, { withCredentials: true })\r\n            if (response.status === 200) {\r\n                const { url } = response.data;\r\n                window.location.href = url;\r\n            }\r\n            setCheckOutLoader(false)\r\n        } catch (err) {\r\n            console.log(err)\r\n            setCheckOutLoader(false)\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <div className='mainLoaderWrapper'>\r\n            <span className=\"mainLoader\"></span>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <section className='shoppingCartWrapper'>\r\n            <div className='shoppingCartContent'>\r\n                <span className='shoppingCartAccountInfoTxt'>Logged in as: {userInfo.email}</span>\r\n                <h2 className='shoppingCartTitle'>Shopping Cart</h2>\r\n                <div className='shoppingCartMainContentWrapper'>\r\n                    <div className='shoppingCartProductsWrapper'>\r\n                        {shoppingCart.map((product: any, index: number) => (\r\n                            <div className={`shoppingCartProductWrapper ${index === 0 ? 'firstProduct' : ''}`} key={index}>\r\n                                <div className='shoppingCartProductContent'>\r\n                                    <img src={product.image} className='shoppingCartProductImg' alt='shopping cart product'\r\n                                        onMouseDown={(e) => e.preventDefault()} />\r\n                                    <div className='shoppingCartProductInfoWrapper'>\r\n                                        <h4 className='shoppingCartProductTitle'>{product.title}</h4>\r\n                                        <span className='shoppingCartProductColorTxt'>Color: {product.color.toUpperCase()}</span>\r\n                                        <span className='shoppingCartProductSizeTxt'>Size: {product.size}</span>\r\n                                        <span className='shoppingCartProductQuantityTxt'>Quantity: {product.productQuantity}</span>\r\n                                        <div className='shoppingCartProductPricesWrapper'>\r\n                                            <span className='shoppingCartProductPrice'>${product.price}</span>\r\n                                            <span className='shoppingCartProductSubTotal'>SubTotal:\r\n                                                ${product.price * product.productQuantity}</span>\r\n                                        </div>\r\n                                        <div className='shoppingCartProductRemoveBtnWrapper'>\r\n                                            <button className='shoppingCartProductRemoveBtn' \r\n                                            onClick={() => checkOutLoader ? null : handleRemoveModalOpen(index)}>Remove</button>\r\n                                        </div>\r\n                                        {(modalOpen && modalIndex === index) && (\r\n                                            <div className='shoppingCartRemoveModalWrapper'>\r\n                                                <div className='shoppingCartRemoveModalContent'>\r\n                                                    <h5 className='shoppingCartRemoveModalHeaderTxt'>Remove Item</h5>\r\n                                                    <p className='shoppingCartRemoveModalTxt'>Are you sure you want to remove this item from your cart?</p>\r\n                                                    <div className='shoppingCartRemoveModalBtnsWrapper'>\r\n                                                        {loader ? (\r\n                                                            <button className='shoppingCartRemoveModalBtn loading'>\r\n                                                                <span className='btnLoader'></span>\r\n                                                            </button>\r\n                                                        ) : (\r\n                                                            <button className='shoppingCartRemoveModalBtn'\r\n                                                                onClick={() => removeItemFromCart(product._id.toString())}>REMOVE</button>\r\n                                                        )}\r\n                                                        <button className='shoppingCartRemoveModalBtn cancel'\r\n                                                            onClick={() => handleRemoveModalClose()}>CANCEL</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className='shoppingCartCheckOutWrapper'>\r\n                        <div className='shoppingCartOverViewWrapper'>\r\n                            <div className='shoppingCartOverViewHeader'>\r\n                                <h3 className='overViewHeaderTitle'>Order Summary</h3>\r\n                                <span className='overViewHeaderItemCount'>{totalItems ? totalItems : 0} Item(s)</span>\r\n                            </div>\r\n                            <div className='shoppingCartOverViewBody'>\r\n                                <div className='shoppingCartOverViewBodyItemWrapper top'>\r\n                                    <span className='shoppingCartOverViewBodyItem'>Item(s) Subtotal</span>\r\n                                    <span className='shoppingCartOverViewBodyItem'>${totalCost ? totalCost : 0}</span></div>\r\n                                <div className='shoppingCartOverViewBodyItemWrapper'>\r\n                                    <span className='shoppingCartOverViewBodyItem'>Shipping</span>\r\n                                    <span className='shoppingCartOverViewBodyItem'>TBD</span></div>\r\n                                <div className='shoppingCartOverViewBodyItemWrapper'>\r\n                                    <span className='shoppingCartOverViewBodyItem'>Subtotal</span>\r\n                                    <span className='shoppingCartOverViewBodyItem'>${totalCost ? totalCost : 0}</span></div>\r\n                                <div className='shoppingCartOverViewBodyItemWrapper bottom'>\r\n                                    <span className='shoppingCartOverViewBodyItem'>Estimated Tax</span>\r\n                                    <span className='shoppingCartOverViewBodyItem'>TBD</span></div>\r\n                            </div>\r\n                            <div className='shoppingCartOverViewFooter'>\r\n                                <h3 className='overViewFooterTitle'>Order Total</h3>\r\n                                <span className='overViewFooterItemCount'>${totalCost ? totalCost : 0}</span>\r\n                            </div>\r\n                        </div>\r\n                        {checkOutLoader ? (\r\n                            <button className='shoppingCartCheckOutBtn loading'>\r\n                                <span className='btnLoader'></span>\r\n                            </button>\r\n                        ) : (\r\n                            <div className='shoppingCartCheckOutBtnWrapper' onClick={() => handleCheckOut()}>\r\n                                <button className='shoppingCartCheckOutBtn'>CHECKOUT</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ShoppingCart\r\n"],"names":["_ref","windowWidth","shoppingCart","userInfo","getUserCartInfo","isLoggedIn","_useState","useState","_useState2","_slicedToArray","modalOpen","setModalOpen","_useState3","_useState4","modalIndex","setModalIndex","_useState5","_useState6","totalItems","setTotalItems","_useState7","_useState8","totalCost","setTotalCost","_useState9","_useState10","loader","setLoader","_useState11","_useState12","checkOutLoader","setCheckOutLoader","useEffect","handleRemoveModalClose","document","body","style","overflowY","itemQuantitys","map","product","productQuantity","reduce","accumulator","currentValue","subTotals","price","removeItemFromCart","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","productId","wrap","_context","prev","next","axios","delete","data","withCredentials","sent","status","t0","console","log","stop","_x","apply","arguments","handleCheckOut","_ref3","_callee2","response","url","_context2","post","window","location","href","_jsx","className","children","_jsxs","email","index","concat","src","image","alt","onMouseDown","e","preventDefault","title","color","toUpperCase","size","onClick","_id","toString"],"sourceRoot":""}