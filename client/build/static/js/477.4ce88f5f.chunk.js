"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[477],{7477:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(9439),s=r(2791),a=r(7689),c=r(1087),l=r(9806),o=r(1632),i=r(184),u=function(e){var t=e.typeOfFilter,r=e.handleSortByFilter,n=e.sortByFilterOption,s=e.categoryFilterOption,a=e.products,c=e.setCategoryFilterOpen,u=e.Filter,p=e.setPriceFilterOpen,d=e.minPrice,h=e.maxPrice,m=e.setReviewCountFilterOpen,x=e.minRevCount,y=e.maxRevCount;return(0,i.jsx)("div",{className:"dropDownMenuWrapper ".concat("Sort By"===t?"sort-by":""),children:(0,i.jsxs)("div",{className:"dropDownMenuContent ".concat("Sort By"===t?"sort-by":""),children:["Sort By"!==t&&(0,i.jsxs)("div",{className:"dropDownMenuHeaderWrapper",children:[(0,i.jsxs)("span",{className:"dropDownMenuResultsTxt",children:["Results: ",a.length," items"]}),(0,i.jsxs)("div",{className:"dropDownMenuCloseWrapper",onClick:function(){c(!1),p(!1),m(!1)},children:[(0,i.jsx)(l.G,{icon:o.YIN,className:"dropDownMenuCloseIcon"}),(0,i.jsx)("span",{className:"dropDownMenuCloseTxt",children:"Close"})]})]}),"Sort By"===t&&(0,i.jsxs)("ul",{className:"sortByOptionsWrapper",children:[(0,i.jsxs)("li",{className:"sortByOption topRated ".concat("Top Rated"===n?"filterOn":""),onClick:function(){return r("Top Rated",a)},children:["Top Rated","Top Rated"===n?(0,i.jsx)(l.G,{icon:o.LEp}):null]}),(0,i.jsxs)("li",{className:"sortByOption ".concat("Low to high"===n?"filterOn":""),onClick:function(){return r("Low to high",a)},children:["Price: Low to high","Low to high"===n?(0,i.jsx)(l.G,{icon:o.LEp}):null]}),(0,i.jsxs)("li",{className:"sortByOption ".concat("High to low"===n?"filterOn":""),onClick:function(){return r("High to low",a)},children:["Price: High to low","High to low"===n?(0,i.jsx)(l.G,{icon:o.LEp}):null]})]}),"Category"===t&&(0,i.jsxs)("div",{className:"categoryWrapper",children:[(0,i.jsx)("h4",{className:"categoryTitle",children:"Categories"}),(0,i.jsxs)("ul",{className:"categoryOptionsWrapper",children:[(0,i.jsx)("li",{className:"categoryOption",children:(0,i.jsxs)("label",{className:"categoryLabel",onClick:function(){return u("All",d,h,x,y)},children:[(0,i.jsx)("input",{className:"categoryRadioInput",type:"radio",name:"category",value:"All",checked:"All"===s,readOnly:!0}),"All"]})}),(0,i.jsx)("li",{className:"categoryOption",children:(0,i.jsxs)("label",{className:"categoryLabel",onClick:function(){return u("men's clothing",d,h,x,y)},children:[(0,i.jsx)("input",{className:"categoryRadioInput",type:"radio",name:"category",value:"Men",checked:"men's clothing"===s,readOnly:!0}),"Men"]})}),(0,i.jsx)("li",{className:"categoryOption",children:(0,i.jsxs)("label",{className:"categoryLabel",onClick:function(){return u("women's clothing",d,h,x,y)},children:[(0,i.jsx)("input",{className:"categoryRadioInput",type:"radio",name:"category",value:"Women",checked:"women's clothing"===s,readOnly:!0}),"Women"]})}),(0,i.jsx)("li",{className:"categoryOption",children:(0,i.jsxs)("label",{className:"categoryLabel",onClick:function(){return u("jewelery",d,h,x,y)},children:[(0,i.jsx)("input",{className:"categoryRadioInput",type:"radio",name:"category",value:"Jewelery",checked:"jewelery"===s,readOnly:!0}),"Jewelery"]})})]})]}),"Price"===t&&(0,i.jsxs)("div",{className:"priceWrapper",children:[(0,i.jsx)("h4",{className:"priceTitle",children:"Price"}),(0,i.jsxs)("ul",{className:"priceOptionsWrapper",children:[(0,i.jsx)("li",{className:"priceOption",children:(0,i.jsxs)("label",{className:"priceLabel",onClick:function(){return u(s,0,1e3,x,y)},children:[(0,i.jsx)("input",{className:"priceRadioInput",type:"radio",name:"price",value:"All",checked:0===d&&1e3===h,readOnly:!0}),"All"]})}),(0,i.jsx)("li",{className:"priceOption",children:(0,i.jsxs)("label",{className:"priceLabel",onClick:function(){return u(s,0,50,x,y)},children:[(0,i.jsx)("input",{className:"priceRadioInput",type:"radio",name:"price",value:"Men",checked:0===d&&50===h,readOnly:!0}),"$0-$50"]})}),(0,i.jsx)("li",{className:"priceOption",children:(0,i.jsxs)("label",{className:"priceLabel",onClick:function(){return u(s,50,100,x,y)},children:[(0,i.jsx)("input",{className:"priceRadioInput",type:"radio",name:"price",value:"Women",checked:50===d&&100===h,readOnly:!0}),"$50-$100"]})}),(0,i.jsx)("li",{className:"priceOption",children:(0,i.jsxs)("label",{className:"priceLabel",onClick:function(){return u(s,100,1e3,x,y)},children:[(0,i.jsx)("input",{className:"priceRadioInput",type:"radio",name:"price",value:"Jewelery",checked:100===d&&1e3===h,readOnly:!0}),"$100+"]})})]})]}),"Review Count"===t&&(0,i.jsxs)("div",{className:"revCountWrapper",children:[(0,i.jsx)("h4",{className:"revCountTitle",children:"Review Count"}),(0,i.jsxs)("ul",{className:"revCountOptionsWrapper",children:[(0,i.jsx)("li",{className:"revCountOption",children:(0,i.jsxs)("label",{className:"revCountLabel",onClick:function(){return u(s,d,h,0,1e3)},children:[(0,i.jsx)("input",{className:"revCountRadioInput",type:"radio",name:"revCount",value:"All",checked:0===x&&1e3===y,readOnly:!0}),"All"]})}),(0,i.jsx)("li",{className:"revCountOption",children:(0,i.jsxs)("label",{className:"revCountLabel",onClick:function(){return u(s,d,h,0,200)},children:[(0,i.jsx)("input",{className:"revCountRadioInput",type:"radio",name:"revCount",value:"Men",checked:0===x&&200===y,readOnly:!0}),"0-200"]})}),(0,i.jsx)("li",{className:"revCountOption",children:(0,i.jsxs)("label",{className:"revCountLabel",onClick:function(){return u(s,d,h,200,400)},children:[(0,i.jsx)("input",{className:"revCountRadioInput",type:"radio",name:"revCount",value:"Women",checked:200===x&&400===y,readOnly:!0}),"200-400"]})}),(0,i.jsx)("li",{className:"revCountOption",children:(0,i.jsxs)("label",{className:"revCountLabel",onClick:function(){return u(s,d,h,400,1e3)},children:[(0,i.jsx)("input",{className:"revCountRadioInput",type:"radio",name:"revCount",value:"Jewelery",checked:400===x&&1e3===y,readOnly:!0}),"400+"]})})]})]})]})})},p=function(e){var t=e.windowWidth,r=e.allProducts,p=(0,s.useState)(!1),d=(0,n.Z)(p,2),h=d[0],m=d[1],x=(0,s.useState)(""),y=(0,n.Z)(x,2),j=y[0],N=y[1],f=(0,s.useState)([]),g=(0,n.Z)(f,2),C=g[0],v=g[1],O=(0,s.useState)(""),w=(0,n.Z)(O,2),R=w[0],b=w[1],S=(0,s.useState)([]),F=(0,n.Z)(S,2),P=F[0],k=F[1],L=(0,s.useState)(null),I=(0,n.Z)(L,2),B=I[0],T=I[1],W=(0,s.useState)(!1),Z=(0,n.Z)(W,2),G=Z[0],A=Z[1],M=(0,s.useState)(!1),D=(0,n.Z)(M,2),H=D[0],E=D[1],$=(0,s.useState)(""),J=(0,n.Z)($,2),Q=J[0],U=J[1],Y=(0,s.useState)(!1),q=(0,n.Z)(Y,2),z=q[0],K=q[1],V=(0,s.useState)("All"),X=(0,n.Z)(V,2),_=X[0],ee=X[1],te=(0,s.useState)(!1),re=(0,n.Z)(te,2),ne=re[0],se=re[1],ae=(0,s.useState)(0),ce=(0,n.Z)(ae,2),le=ce[0],oe=ce[1],ie=(0,s.useState)(1e3),ue=(0,n.Z)(ie,2),pe=ue[0],de=ue[1],he=(0,s.useState)(!1),me=(0,n.Z)(he,2),xe=me[0],ye=me[1],je=(0,s.useState)(0),Ne=(0,n.Z)(je,2),fe=Ne[0],ge=Ne[1],Ce=(0,s.useState)(1e3),ve=(0,n.Z)(Ce,2),Oe=ve[0],we=ve[1],Re=(0,s.useState)(!1),be=(0,n.Z)(Re,2),Se=be[0],Fe=be[1],Pe=(0,s.useState)(!0),ke=(0,n.Z)(Pe,2),Le=ke[0],Ie=ke[1];Le&&(document.body.style.overflowY="hidden");var Be=(0,a.TH)(),Te=new URLSearchParams(Be.search).get("q"),We=(0,s.useRef)(null),Ze=(0,a.s0)();(0,s.useEffect)((function(){r&&0!==r.length?(Fe(!0),m(!1),N(""),U(""),E(!1),K(!1),se(!1),ye(!1),ee("All"),oe(0),de(1e3),ge(0),we(1e3),"/shop/all-products"===Be.pathname?(b("All Products"),k(r.filter((function(e){return"electronics"!==e.category})))):"/shop/best-sellers"===Be.pathname?(b("Best Sellers"),Ge("Top Rated",r.filter((function(e){return"electronics"!==e.category})))):"/shop/men"===Be.pathname?(b("Men"),k(r.filter((function(e){return"men's clothing"===e.category}))),ee("men's clothing")):"/shop/women"===Be.pathname?(b("Women"),k(r.filter((function(e){return"women's clothing"===e.category}))),ee("women's clothing")):"/shop/jewelery"===Be.pathname?(b("Jewelery"),k(r.filter((function(e){return"jewelery"===e.category}))),ee("jewelery")):"/shop/search"===Be.pathname&&(m(!0),Te&&(N(Te),v(r.filter((function(e){return"electronics"!==e.category&&e.title.toLowerCase().includes(Te.toLowerCase())||"electronics"!==e.category&&e.category.toLowerCase().includes(Te.toLowerCase())}))),k(r.filter((function(e){return"electronics"!==e.category&&e.title.toLowerCase().includes(Te.toLowerCase())||"electronics"!==e.category&&e.category.toLowerCase().includes(Te.toLowerCase())}))))),Fe(!1)):Ie(!1)}),[Be.pathname,Te,r]),(0,s.useEffect)((function(){if(We.current){var e=We.current.getBoundingClientRect();T(e),e.height!==e.width&&A(!G)}}),[We,t,G,P]);var Ge=function(e,t){E(!1),"Top Rated"===e?(k(t.sort((function(e,t){return t.rating.rate-e.rating.rate}))),U("Top Rated")):"Low to high"===e?(k(t.sort((function(e,t){return e.price-t.price}))),U("Low to high")):"High to low"===e&&(k(t.sort((function(e,t){return t.price-e.price}))),U("High to low"))},Ae=function(e,t,n,s,a){Fe(!0),K(!1),se(!1),ye(!1),ee(e),oe(t),de(n),ge(s),we(a);var c=[];c=h?C.filter((function(r){return("All"===e?"electronics"!==r.category:r.category===e)&&(0===t&&1e3===n?r.price>0:r.price>=t&&r.price<=n)&&(0===s&&1e3===a?r.rating.count>0:r.rating.count>=s&&r.rating.count<=a)})):r.filter((function(r){return("All"===e?"electronics"!==r.category:r.category===e)&&(0===t&&1e3===n?r.price>0:r.price>=t&&r.price<=n)&&(0===s&&1e3===a?r.rating.count>0:r.rating.count>=s&&r.rating.count<=a)})),Q?Ge(Q,c):k(c),Fe(!1)};return(0,s.useEffect)((function(){Le||(document.body.style.overflowY="auto")}),[Le]),(0,i.jsxs)("section",{className:"shopWrapper",children:[Le&&(0,i.jsx)("div",{className:"mainLoaderWrapper",children:(0,i.jsx)("span",{className:"mainLoader"})}),(0,i.jsxs)("div",{className:"shopContent",children:[(0,i.jsxs)("ol",{className:"shopBreadCrumbsWrapper",children:[(0,i.jsx)(c.rU,{to:"/",className:"shopBreadCrumbItem",children:"Home"}),(0,i.jsx)("span",{className:"shopBreadCrumbItemSeperator",children:"/"}),h?(0,i.jsxs)("li",{className:"shopBreadCrumbItem searchResults",children:["Search results for ",j]}):(0,i.jsx)("li",{className:"shopBreadCrumbItem",children:R})]}),h?(0,i.jsx)("h2",{className:"shopCategoryTxt",children:"Search"}):(0,i.jsx)("h2",{className:"shopCategoryTxt",children:R}),(0,i.jsxs)("div",{className:"resultsHeaderWrapper",children:[(0,i.jsxs)("span",{className:"resultsTxt",children:["Results: ",P.length," items"]}),(0,i.jsxs)("div",{className:"filterBtnWrapper sort-by",children:[(0,i.jsxs)("button",{className:"filterBtn sort-by",onClick:H?function(){return E(!1)}:function(){E(!0),K(!1),se(!1),ye(!1)},children:["Sort by",H?(0,i.jsx)(l.G,{icon:o.onQ,className:"filterIcon"}):(0,i.jsx)(l.G,{icon:o.gc2,className:"filterIcon"})]}),H&&(0,i.jsx)(u,{typeOfFilter:"Sort By",handleSortByFilter:Ge,categoryFilterOption:_,products:P,sortByFilterOption:Q,setCategoryFilterOpen:K,setPriceFilterOpen:se,Filter:Ae,minPrice:le,maxPrice:pe,minRevCount:fe,maxRevCount:Oe,setReviewCountFilterOpen:ye})]})]}),(0,i.jsxs)("div",{className:"filterOptionsWrapper",children:[(0,i.jsx)("span",{className:"filterTxt",children:"Filter:"}),("All Products"===R||"Best Sellers"===R||h)&&(0,i.jsxs)("button",{className:"filterBtn",onClick:z?function(){return K(!1)}:function(){K(!0),E(!1),se(!1),ye(!1)},children:["Category",z?(0,i.jsx)(l.G,{icon:o.onQ,className:"filterIcon"}):(0,i.jsx)(l.G,{icon:o.gc2,className:"filterIcon"})]}),z&&(0,i.jsx)(u,{typeOfFilter:"Category",handleSortByFilter:Ge,sortByFilterOption:Q,categoryFilterOption:_,products:P,setCategoryFilterOpen:K,setPriceFilterOpen:se,Filter:Ae,minPrice:le,maxPrice:pe,minRevCount:fe,maxRevCount:Oe,setReviewCountFilterOpen:ye}),(0,i.jsxs)("button",{className:"filterBtn",onClick:ne?function(){return se(!1)}:function(){se(!0),E(!1),K(!1),ye(!1)},children:["Price",ne?(0,i.jsx)(l.G,{icon:o.onQ,className:"filterIcon"}):(0,i.jsx)(l.G,{icon:o.gc2,className:"filterIcon"})]}),ne&&(0,i.jsx)(u,{typeOfFilter:"Price",handleSortByFilter:Ge,sortByFilterOption:Q,categoryFilterOption:_,products:P,setCategoryFilterOpen:K,setPriceFilterOpen:se,Filter:Ae,minPrice:le,maxPrice:pe,minRevCount:fe,maxRevCount:Oe,setReviewCountFilterOpen:ye}),(0,i.jsxs)("button",{className:"filterBtn",onClick:xe?function(){return ye(!1)}:function(){ye(!0),E(!1),K(!1),se(!1)},children:["Review Count",xe?(0,i.jsx)(l.G,{icon:o.onQ,className:"filterIcon"}):(0,i.jsx)(l.G,{icon:o.gc2,className:"filterIcon"})]}),xe&&(0,i.jsx)(u,{typeOfFilter:"Review Count",handleSortByFilter:Ge,sortByFilterOption:Q,categoryFilterOption:_,products:P,setCategoryFilterOpen:K,setPriceFilterOpen:se,Filter:Ae,minPrice:le,maxPrice:pe,minRevCount:fe,maxRevCount:Oe,setReviewCountFilterOpen:ye})]}),(0,i.jsx)("div",{className:"shopRenderedProductsWrapper",children:0===P.length||Se?(0,i.jsx)(i.Fragment,{children:Se?(0,i.jsx)("div",{className:"shopProductLoaderWrapper",children:(0,i.jsx)("span",{className:"loader"})}):(0,i.jsx)(i.Fragment,{children:0!==(null===r||void 0===r?void 0:r.length)&&null!==r?(0,i.jsxs)("div",{className:"shopNoResultsWrapper",children:[(0,i.jsx)("h2",{className:"shopNoResultsTxt h2",children:"Sorry, we couldn't find any matches."}),(0,i.jsx)("h3",{className:"shopNoResultsTxt h3",children:"Try a different search input or filter and try again!"})]}):(0,i.jsx)("div",{className:"noProductsErrorWrapper shop",children:(0,i.jsx)("h2",{className:"noProductsErrorTxt",children:"FAILED TO FETCH PRODUCTS"})})})}):(0,i.jsx)(i.Fragment,{children:P.map((function(e,t){var r=Math.round(e.rating.rate);return(0,i.jsx)("div",{className:"shopProductWrapper",children:(0,i.jsxs)("div",{className:"shopProductContent",onClick:function(){return t=e.id,void Ze("/product/".concat(t));var t},children:[(0,i.jsx)("img",{ref:We,src:e.image,style:{height:null===B||void 0===B?void 0:B.width},alt:"product",className:"shopProductImg",onMouseDown:function(e){return e.preventDefault()},onLoad:function(){return Ie(!1)}}),(0,i.jsx)("span",{className:"shopProductCategoryTxt",children:e.category.toUpperCase()}),(0,i.jsx)("h4",{className:"shopProductTitle",children:e.title}),(0,i.jsxs)("span",{className:"shopProductPrice",children:["$",e.price]}),(0,i.jsxs)("div",{className:"shopRatingsWrapper",children:[(0,i.jsx)(l.G,{className:"shopProductIcon ".concat(r>=1?"fullStar":"emptyStar"),icon:o.Tab}),(0,i.jsx)(l.G,{className:"shopProductIcon ".concat(r>=2?"fullStar":"emptyStar"),icon:o.Tab}),(0,i.jsx)(l.G,{className:"shopProductIcon ".concat(r>=3?"fullStar":"emptyStar"),icon:o.Tab}),(0,i.jsx)(l.G,{className:"shopProductIcon ".concat(r>=4?"fullStar":"emptyStar"),icon:o.Tab}),(0,i.jsx)(l.G,{className:"shopProductIcon ".concat(r>=5?"fullStar":"emptyStar"),icon:o.Tab}),(0,i.jsxs)("span",{className:"shopRatingCount",children:["(",e.rating.count,")"]})]})]})},t)}))})})]})]})}}}]);
//# sourceMappingURL=477.4ce88f5f.chunk.js.map